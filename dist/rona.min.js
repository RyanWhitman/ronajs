/**
 * RonaJS is a JavaScript micro framework / router.
 *
 * @package RonaJS
 * @copyright Copyright (c) 2017 Ryan Whitman (https://ryanwhitman.com)
 * @license https://opensource.org/licenses/MIT MIT
 * @version .6.0.0
 * @see https://github.com/RyanWhitman/ronajs
 */
var Rona=function(){var a={system_path:""},b={},c="",d=!1;this.previous_uri="",this.route_vars={},this.config=function(){},this.route=function(a,c){return a=a.toString().toLowerCase(),"/"==a&&(a=""),"undefined"!=typeof c&&("[object Array]"!==Object.prototype.toString.call(c)&&(c=[c]),void(b[a]=c))},this.run=function(a){var b=this,a="boolean"!=typeof a||a;document.addEventListener("click",function(a){"string"==typeof a.target.dataset.rona&&"string"==typeof a.target.href&&(a.preventDefault(),b.change_route(a.target.href))}),window.addEventListener("popstate",function(){b.execute_route()}),a&&b.execute_route()},this.execute_route=function(e){var f=this,e="boolean"==typeof e?e:null;c=location.pathname.replace(a.system_path,""),"/"==c&&(c="");for(var g in b)if(b.hasOwnProperty(g)){var h=b[g],i=[],j=new RegExp("^"+g.replace(/{([\da-z_]*[\da-z]+[\da-z_]*)(\([\S ]+?\))?}/gi,function(a,b,c){return i.push(b),"string"==typeof c?c:"([\\w-]+)"})+"$"),k=c.match(j);if(null!=k&&(f.route_vars={},route_found=h,"number"==typeof k.length))for(var l=1;l<k.length;l++)f.route_vars[i[l-1]]=k[l]}if(!(e===!1||null===e&&d)&&"object"==typeof route_found){"object"!=typeof f.route_vars&&(f.route_vars={});for(var m in route_found){var n=route_found[m];"function"==typeof n?n(f.route_vars):window[n](f.route_vars)}}},this.get_routes=function(){return b},this.change_route=function(a,b){var d=this;b="boolean"==typeof b?b:null,d.previous_uri=c,window.history.pushState("","",a),d.execute_route(b)},this.refresh=function(){var a=this;a.change_route(c)},this.disable_handlers=function(){d=!0},this.enable_handlers=function(){d=!1},this.query_params=function(a){for(var b,c=/\+/g,d=/([^&=]+)=?([^&]*)/g,e=function(a){return decodeURIComponent(a.replace(c," "))},f=window.location.search.substring(1),g={};b=d.exec(f);)g[e(b[1])]=e(b[2]);return"undefined"!=typeof a?g[a]:g}};