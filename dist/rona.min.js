/**
 * RonaJS is a JavaScript framework built in vanilla JavaScript.
 *
 * @copyright Copyright (c) 2018 Ryan Whitman (https://ryanwhitman.com)
 * @license https://opensource.org/licenses/MIT MIT
 * @version .7.7.0
 * @see https://github.com/RyanWhitman/ronajs
 */
 "use strict";var Rona=function(){var s=this;s.config={base_path:"",request_path:location.pathname};var l={},d="",o="",v={},g=!1;function h(e,t,o){t="boolean"==typeof t&&t,o="object"==typeof o?o:{};if("function"==typeof CustomEvent)var n=new CustomEvent(e,{cancelable:t,detail:o});else(n=document.createEvent("CustomEvent")).initCustomEvent(e,!1,t,o);return document.dispatchEvent(n)}document.addEventListener("click",function(e){var t=!1;if("a"==e.target.tagName.toLowerCase())t=e.target;else{var o=e.path||e.composedPath&&e.composedPath();if("object"==typeof o){for(var n=0;n<o.length;n++)if("string"==typeof o[n].tagName&&"a"==o[n].tagName.toLowerCase()){t=o[n];break}}else if("object"==typeof e.target.parentNode)for(var r=e.target.parentNode;;){if("string"==typeof r.tagName&&"a"==r.tagName.toLowerCase()){t=r;break}if("object"!=typeof r.parentNode||null===r.parentNode)break;r=r.parentNode}}t&&"string"==typeof t.href&&"string"==typeof t.dataset.rona&&(e.preventDefault(),s.location(t.href))}),window.addEventListener("popstate",function(){s.execute()}),s.route=function(e,t){"string"==typeof e&&(e=[e]),e.forEach(function(e){if("/"==(e=e.toString().toLowerCase())&&(e=""),void 0===t)return!1;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),l[e]=t})},s.execute=function(e){e="boolean"==typeof e?e:null;var t=s.config.request_path;for(var o in"function"==typeof t&&(t=t()),"/"==(d=decodeURIComponent(t).replace(s.config.base_path,""))&&(d=""),l)if(l.hasOwnProperty(o)){var n=l[o],r=[],a=new RegExp("^"+o.replace(/{([\da-z_]*[\da-z]+[\da-z_]*)(\([\S ]+?\))?}/gi,function(e,t,o){return r.push(t),"string"==typeof o?o:"([^/]+)"})+"$","i"),i=d.match(a);if(null!=i){v={};var c=n;if("number"==typeof i.length)for(var f=1;f<i.length;f++)v[r[f-1]]=i[f]}}if(!(!1===e||null===e&&g)&&"object"==typeof c&&("object"!=typeof v&&(v={}),h("rona_execute_controllers",!0,{path_vars:v,controllers:c}))){for(var u in c)if(c.hasOwnProperty(u)){var p=c[u];if(!1===("function"==typeof p?p(s.path_vars()):window[p](s.path_vars())))break}h("rona_controllers_executed")}},s.get_routes=function(){return l},s.location=function(e,t){t="boolean"==typeof t?t:null,o=d,window.history.pushState("","",e),s.execute(t)},s.reload=function(){s.execute(),window.scrollTo(0,0)},s.disable_controllers=function(){g=!0},s.enable_controllers=function(){g=!1},s.query_params=function(e){e=void 0!==e?e:null;for(var t,o=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(o," "))},a=window.location.search.substring(1),i={};t=n.exec(a);)i[r(t[1])]=r(t[2]);return null==e?i:i[e]},s.request_path=function(){return d},s.previous_request_path=function(){return o},s.path_vars=function(){return v}};