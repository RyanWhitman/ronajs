/**
 * RonaJS is a JavaScript framework that allows for the creation of any number of routes. Each route consists of a URI and 1 or more handlers. URIs can be straight-forward and literal or they can consist of variables and regular expressions. Upon execution, RonaJS finds the matching route and executes the handlers. RonaJS is built in vanilla JavaScript and does not require jQuery.
 *
 * @copyright Copyright (c) 2018 Ryan Whitman (https://ryanwhitman.com)
 * @license https://opensource.org/licenses/MIT MIT
 * @version .7.5.1
 * @see https://github.com/RyanWhitman/ronajs
 */
"use strict";var Rona=function(){var l=this;l.config={base_uri:"",requested_uri:location.pathname};var p={},d="",v=!1,n="",g={};function y(e,t,n){t="boolean"==typeof t&&t,n="object"==typeof n?n:{};if("function"==typeof CustomEvent)var o=new CustomEvent(e,{cancelable:t,detail:n});else(o=document.createEvent("CustomEvent")).initCustomEvent(e,!1,t,n);return document.dispatchEvent(o)}document.addEventListener("click",function(e){var t=!1;if("a"==e.target.tagName.toLowerCase())t=e.target;else{var n=e.path||e.composedPath&&e.composedPath();if("object"==typeof n){for(var o=0;o<n.length;o++)if("string"==typeof n[o].tagName&&"a"==n[o].tagName.toLowerCase()){t=n[o];break}}else if("object"==typeof e.target.parentNode)for(var r=e.target.parentNode;;){if("string"==typeof r.tagName&&"a"==r.tagName.toLowerCase()){t=r;break}if("object"!=typeof r.parentNode||null===r.parentNode)break;r=r.parentNode}}t&&"string"==typeof t.href&&"string"==typeof t.dataset.rona&&(e.preventDefault(),l.location(t.href))}),window.addEventListener("popstate",function(){l.execute()}),l.route=function(e,t){"string"==typeof e&&(e=[e]),e.forEach(function(e){if("/"==(e=e.toString().toLowerCase())&&(e=""),void 0===t)return!1;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),p[e]=t})},l.execute=function(e){e="boolean"==typeof e?e:null;var t=l.config.requested_uri;for(var n in"function"==typeof t&&(t=t()),"/"==(d=decodeURIComponent(t).replace(l.config.base_uri,""))&&(d=""),p)if(p.hasOwnProperty(n)){var o=p[n],r=[],a=new RegExp("^"+n.replace(/{([\da-z_]*[\da-z]+[\da-z_]*)(\([\S ]+?\))?}/gi,function(e,t,n){return r.push(t),"string"==typeof n?n:"([^/]+)"})+"$","i"),i=d.match(a);if(null!=i){g={};var u=o;if("number"==typeof i.length)for(var f=1;f<i.length;f++)g[r[f-1]]=i[f]}}if(!(!1===e||null===e&&v)&&"object"==typeof u&&("object"!=typeof g&&(g={}),y("rona_execute_handlers",!0,{route_vars:g,handlers:u}))){for(var c in u)if(u.hasOwnProperty(c)){var s=u[c];if(!1===("function"==typeof s?s(l.route_vars()):window[s](l.route_vars())))break}y("rona_handlers_executed")}},l.get_routes=function(){return p},l.location=function(e,t){t="boolean"==typeof t?t:null,n=d,window.history.pushState("","",e),l.execute(t)},l.reload=function(){l.location(d)},l.disable_handlers=function(){v=!0},l.enable_handlers=function(){v=!1},l.query_params=function(e){e=void 0!==e?e:null;for(var t,n=/\+/g,o=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(n," "))},a=window.location.search.substring(1),i={};t=o.exec(a);)i[r(t[1])]=r(t[2]);return null==e?i:i[e]},l.current_requested_uri=function(){return d},l.previous_requested_uri=function(){return n},l.route_vars=function(){return g}};